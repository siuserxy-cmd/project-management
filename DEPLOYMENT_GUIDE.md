# é¡¹ç›®ç®¡ç†ç³»ç»Ÿéƒ¨ç½²æŒ‡å— ğŸš€

## ä¸€ã€å‡†å¤‡å·¥ä½œ

### 1.1 ä»£ç å‡†å¤‡
- âœ… é¡¹ç›®ä»£ç å·²ä¼˜åŒ–ï¼Œç§»é™¤è°ƒè¯•ä¿¡æ¯
- âœ… æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬å·²å‡†å¤‡
- âœ… ç¯å¢ƒå˜é‡é…ç½®éœ€è¦è°ƒæ•´

### 1.2 æ‰€éœ€æ–‡ä»¶æ¸…å•
```
é¡¹ç›®ç®¡ç†/
â”œâ”€â”€ server.js          # æœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ package.json       # ä¾èµ–é…ç½®
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ init-db.js     # æ•°æ®åº“åˆå§‹åŒ–
â”œâ”€â”€ public/            # å‰ç«¯æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ app.js
â””â”€â”€ uploads/           # æ–‡ä»¶ä¸Šä¼ ç›®å½•
```

## äºŒã€äº‘æœåŠ¡å•†é€‰æ‹©å’Œæ¯”è¾ƒ

### 2.1 æ¨èäº‘æœåŠ¡å•†

#### ğŸŒŸ **è…¾è®¯äº‘** (æ¨èæ–°æ‰‹)
- **ä¼˜åŠ¿**:
  - ä¸­æ–‡ç•Œé¢å‹å¥½
  - æ–°ç”¨æˆ·ä¼˜æƒ å¤š
  - å›½å†…è®¿é—®é€Ÿåº¦å¿«
  - å®¢æœæ”¯æŒå¥½
- **ä»·æ ¼**: è½»é‡åº”ç”¨æœåŠ¡å™¨ 24å…ƒ/æœˆèµ·
- **é€‚ç”¨**: å›½å†…ç”¨æˆ·ï¼Œä¸­å°å‹é¡¹ç›®

#### ğŸŒŸ **é˜¿é‡Œäº‘**
- **ä¼˜åŠ¿**:
  - åŠŸèƒ½å…¨é¢
  - ç¨³å®šæ€§å¥½
  - æ–‡æ¡£ä¸°å¯Œ
- **ä»·æ ¼**: ECSæœåŠ¡å™¨ 30å…ƒ/æœˆèµ·
- **é€‚ç”¨**: æœ‰ä¸€å®šæŠ€æœ¯åŸºç¡€

#### ğŸŒŸ **Vultr** (å›½é™…æ¨è)
- **ä¼˜åŠ¿**:
  - ä»·æ ¼ä¾¿å®œ
  - å…¨çƒèŠ‚ç‚¹å¤š
  - æŒ‰å°æ—¶è®¡è´¹
- **ä»·æ ¼**: $2.5/æœˆèµ·
- **é€‚ç”¨**: å›½é™…ç”¨æˆ·

#### ğŸŒŸ **DigitalOcean**
- **ä¼˜åŠ¿**:
  - ç•Œé¢ç®€æ´
  - æ–‡æ¡£ä¼˜è´¨
  - å¼€å‘è€…å‹å¥½
- **ä»·æ ¼**: $4/æœˆèµ·

## ä¸‰ã€è¯¦ç»†éƒ¨ç½²æ­¥éª¤

### 3.1 è´­ä¹°äº‘æœåŠ¡å™¨

#### è…¾è®¯äº‘è´­ä¹°æ­¥éª¤ï¼š
1. è®¿é—® [è…¾è®¯äº‘å®˜ç½‘](https://cloud1.tencent.com/)
2. æ³¨å†Œè´¦å·ï¼Œå®Œæˆå®åè®¤è¯
3. é€‰æ‹©"è½»é‡åº”ç”¨æœåŠ¡å™¨"
4. æ¨èé…ç½®ï¼š
   - **CPU**: 1æ ¸
   - **å†…å­˜**: 1GB
   - **ç¡¬ç›˜**: 25GB SSD
   - **å¸¦å®½**: 3Mbps
   - **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04 LTS
5. è´­ä¹°æ—¶é•¿å»ºè®®é€‰æ‹©1å¹´ï¼ˆæœ‰ä¼˜æƒ ï¼‰

### 3.2 è¿æ¥æœåŠ¡å™¨

#### Windowsç”¨æˆ·ï¼š
```bash
# ä¸‹è½½å¹¶å®‰è£… PuTTY æˆ–ä½¿ç”¨ Windows Terminal
ssh root@ä½ çš„æœåŠ¡å™¨IPåœ°å€
# è¾“å…¥å¯†ç ç™»å½•
```

#### Mac/Linuxç”¨æˆ·ï¼š
```bash
ssh root@ä½ çš„æœåŠ¡å™¨IPåœ°å€
```

### 3.3 æœåŠ¡å™¨ç¯å¢ƒé…ç½®

#### 3.3.1 æ›´æ–°ç³»ç»Ÿ
```bash
apt update && apt upgrade -y
```

#### 3.3.2 å®‰è£… Node.js
```bash
# å®‰è£… Node.js 18.x
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
apt-get install -y nodejs

# éªŒè¯å®‰è£…
node --version
npm --version
```

#### 3.3.3 å®‰è£… PM2 (è¿›ç¨‹ç®¡ç†å™¨)
```bash
npm install -g pm2
```

#### 3.3.4 å®‰è£… Nginx (åå‘ä»£ç†)
```bash
apt install nginx -y
systemctl start nginx
systemctl enable nginx
```

### 3.4 ä¸Šä¼ é¡¹ç›®ä»£ç 

#### æ–¹æ³•1: ä½¿ç”¨ SCP (æ¨è)
```bash
# åœ¨æœ¬åœ°ç”µè„‘è¿è¡Œ
scp -r E:\é¡¹ç›®ç®¡ç† root@ä½ çš„æœåŠ¡å™¨IP:/home/
```

#### æ–¹æ³•2: ä½¿ç”¨ Git
```bash
# åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ
cd /home
git clone ä½ çš„é¡¹ç›®ä»“åº“åœ°å€
```

#### æ–¹æ³•3: ä½¿ç”¨ FTP å·¥å…·
- ä¸‹è½½ FileZilla æˆ– WinSCP
- è¿æ¥æœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶

### 3.5 é…ç½®é¡¹ç›®

#### 3.5.1 è¿›å…¥é¡¹ç›®ç›®å½•
```bash
cd /home/é¡¹ç›®ç®¡ç†
```

#### 3.5.2 å®‰è£…ä¾èµ–
```bash
npm install
```

#### 3.5.3 åˆå§‹åŒ–æ•°æ®åº“
```bash
node scripts/init-db.js
```

#### 3.5.4 åˆ›å»ºç”Ÿäº§ç¯å¢ƒé…ç½®
```bash
nano ecosystem.config.js
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
```javascript
module.exports = {
  apps: [{
    name: 'é¡¹ç›®ç®¡ç†ç³»ç»Ÿ',
    script: 'server.js',
    instances: 1,
    autorestart: true,
    watch: false,
    max_memory_restart: '1G',
    env: {
      NODE_ENV: 'production',
      PORT: 3001
    }
  }]
}
```

#### 3.5.5 å¯åŠ¨é¡¹ç›®
```bash
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

### 3.6 é…ç½® Nginx

#### 3.6.1 åˆ›å»ºç½‘ç«™é…ç½®
```bash
nano /etc/nginx/sites-available/project-management
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
```nginx
server {
    listen 80;
    server_name ä½ çš„åŸŸå.com;

    location / {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}
```

#### 3.6.2 å¯ç”¨é…ç½®
```bash
ln -s /etc/nginx/sites-available/project-management /etc/nginx/sites-enabled/
nginx -t
systemctl reload nginx
```

## å››ã€åŸŸåè´­ä¹°å’Œé…ç½®

### 4.1 åŸŸåè´­ä¹°æ¨è

#### ğŸŒŸ **å›½å†…è´­ä¹°** (éœ€è¦å¤‡æ¡ˆ)
1. **è…¾è®¯äº‘åŸŸå**
   - ç½‘å€: https://dnspod.cloud.tencent.com/
   - ä¼˜åŠ¿: ä¸äº‘æœåŠ¡å™¨ä¸€ä½“åŒ–ç®¡ç†
   - ä»·æ ¼: .comåŸŸå 55å…ƒ/å¹´

2. **é˜¿é‡Œäº‘ä¸‡ç½‘**
   - ç½‘å€: https://wanwang.aliyun.com/
   - ä¼˜åŠ¿: åŠŸèƒ½å…¨é¢ï¼ŒæœåŠ¡ç¨³å®š
   - ä»·æ ¼: .comåŸŸå 69å…ƒ/å¹´

#### ğŸŒŸ **å›½å¤–è´­ä¹°** (æ— éœ€å¤‡æ¡ˆ)
1. **Cloudflare Registrar**
   - ç½‘å€: https://www.cloudflare.com/products/registrar/
   - ä¼˜åŠ¿: æˆæœ¬ä»·é”€å”®ï¼Œå…è´¹CDN
   - ä»·æ ¼: .comåŸŸå $8.57/å¹´

2. **Namecheap**
   - ç½‘å€: https://www.namecheap.com/
   - ä¼˜åŠ¿: ä»·æ ¼ä¾¿å®œï¼Œç•Œé¢å‹å¥½
   - ä»·æ ¼: .comåŸŸå $8.88/å¹´

3. **GoDaddy**
   - ç½‘å€: https://www.godaddy.com/
   - ä¼˜åŠ¿: çŸ¥ååº¦é«˜ï¼ŒæœåŠ¡å®Œå–„
   - ä»·æ ¼: .comåŸŸå $11.99/å¹´

### 4.2 åŸŸåè´­ä¹°æ­¥éª¤

#### ä»¥è…¾è®¯äº‘ä¸ºä¾‹ï¼š
1. ç™»å½•è…¾è®¯äº‘æ§åˆ¶å°
2. è¿›å…¥"åŸŸåæ³¨å†Œ"é¡µé¢
3. æœç´¢æƒ³è¦çš„åŸŸå
4. é€‰æ‹©åˆé€‚çš„åç¼€(.com, .cn, .netç­‰)
5. åŠ å…¥è´­ç‰©è½¦ï¼Œé€‰æ‹©è´­ä¹°å¹´é™
6. å®Œæˆæ”¯ä»˜

### 4.3 åŸŸåè§£æé…ç½®

#### 4.3.1 æ·»åŠ  A è®°å½•
1. è¿›å…¥åŸŸåç®¡ç†æ§åˆ¶å°
2. ç‚¹å‡»"è§£æè®¾ç½®"
3. æ·»åŠ è®°å½•ï¼š
   - **ç±»å‹**: A
   - **ä¸»æœºè®°å½•**: @
   - **è®°å½•å€¼**: ä½ çš„æœåŠ¡å™¨IPåœ°å€
   - **TTL**: 600

4. æ·»åŠ  www è®°å½•ï¼š
   - **ç±»å‹**: A
   - **ä¸»æœºè®°å½•**: www
   - **è®°å½•å€¼**: ä½ çš„æœåŠ¡å™¨IPåœ°å€
   - **TTL**: 600

#### 4.3.2 ç­‰å¾…è§£æç”Ÿæ•ˆ
- é€šå¸¸éœ€è¦10åˆ†é’Ÿåˆ°24å°æ—¶
- å¯ä»¥ç”¨ `ping ä½ çš„åŸŸå.com` æµ‹è¯•

## äº”ã€SSLè¯ä¹¦é…ç½® (HTTPS)

### 5.1 ä½¿ç”¨ Let's Encrypt å…è´¹è¯ä¹¦

#### 5.1.1 å®‰è£… Certbot
```bash
apt install certbot python3-certbot-nginx -y
```

#### 5.1.2 è·å–è¯ä¹¦
```bash
certbot --nginx -d ä½ çš„åŸŸå.com -d www.ä½ çš„åŸŸå.com
```

#### 5.1.3 è‡ªåŠ¨ç»­æœŸ
```bash
crontab -e
# æ·»åŠ ä»¥ä¸‹è¡Œ
0 12 * * * /usr/bin/certbot renew --quiet
```

### 5.2 æ›´æ–° Nginx é…ç½®

è¯ä¹¦é…ç½®åï¼ŒNginxä¼šè‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒHTTPSè®¿é—®ã€‚

## å…­ã€é˜²ç«å¢™é…ç½®

### 6.1 UFW é˜²ç«å¢™é…ç½®
```bash
ufw enable
ufw allow ssh
ufw allow 'Nginx Full'
ufw status
```

### 6.2 äº‘æœåŠ¡å•†å®‰å…¨ç»„
åœ¨äº‘æœåŠ¡å•†æ§åˆ¶å°é…ç½®å®‰å…¨ç»„ï¼š
- å¼€æ”¾ç«¯å£: 22 (SSH), 80 (HTTP), 443 (HTTPS)
- é™åˆ¶æ¥æº: 0.0.0.0/0

## ä¸ƒã€å¤‡æ¡ˆæµç¨‹ (å›½å†…ç”¨æˆ·å¿…é¡»)

### 7.1 å¤‡æ¡ˆæ¡ä»¶
- æœ‰å›½å†…äº‘æœåŠ¡å™¨
- æœ‰åŸŸå
- ä¸ªäºº/ä¼ä¸šèµ„è´¨

### 7.2 å¤‡æ¡ˆæ­¥éª¤
1. åœ¨äº‘æœåŠ¡å•†å¤‡æ¡ˆç³»ç»Ÿæäº¤ç”³è¯·
2. ä¸Šä¼ èº«ä»½è¯ä»¶/è¥ä¸šæ‰§ç…§
3. ç­‰å¾…åˆå®¡ (1-3å¤©)
4. ç®¡å±€å®¡æ ¸ (7-20å¤©)
5. å¤‡æ¡ˆæˆåŠŸï¼Œè·å¾—å¤‡æ¡ˆå·

### 7.3 å¤‡æ¡ˆæœŸé—´
- åŸŸåæ— æ³•æ­£å¸¸è®¿é—®
- å¯ä»¥ç”¨IPåœ°å€ä¸´æ—¶è®¿é—®
- å»ºè®®å…ˆå®ŒæˆæŠ€æœ¯éƒ¨ç½²

## å…«ã€ç›‘æ§å’Œç»´æŠ¤

### 8.1 ç›‘æ§è„šæœ¬
```bash
# åˆ›å»ºç›‘æ§è„šæœ¬
nano /home/monitor.sh
```

æ·»åŠ å†…å®¹ï¼š
```bash
#!/bin/bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
pm2 status
# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h
# æ£€æŸ¥å†…å­˜ä½¿ç”¨
free -h
# æ£€æŸ¥ Nginx çŠ¶æ€
systemctl status nginx
```

### 8.2 å®šæœŸå¤‡ä»½
```bash
# åˆ›å»ºå¤‡ä»½è„šæœ¬
nano /home/backup.sh
```

æ·»åŠ å†…å®¹ï¼š
```bash
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
# å¤‡ä»½æ•°æ®åº“
cp /home/é¡¹ç›®ç®¡ç†/database.db /home/backup/database_$DATE.db
# å¤‡ä»½ä¸Šä¼ æ–‡ä»¶
tar -czf /home/backup/uploads_$DATE.tar.gz /home/é¡¹ç›®ç®¡ç†/uploads
# æ¸…ç†7å¤©å‰çš„å¤‡ä»½
find /home/backup -name "*.db" -mtime +7 -delete
find /home/backup -name "*.tar.gz" -mtime +7 -delete
```

è®¾ç½®å®šæ—¶å¤‡ä»½ï¼š
```bash
crontab -e
# æ¯å¤©å‡Œæ™¨2ç‚¹å¤‡ä»½
0 2 * * * /home/backup.sh
```

## ä¹ã€æˆæœ¬é¢„ç®—

### 9.1 æœˆåº¦æˆæœ¬ä¼°ç®—

#### åŸºç¡€é…ç½®ï¼š
- **äº‘æœåŠ¡å™¨**: Â¥24-50/æœˆ
- **åŸŸå**: Â¥5-10/æœˆ (æŒ‰å¹´ä»˜è´¹å¹³æ‘Š)
- **SSLè¯ä¹¦**: å…è´¹ (Let's Encrypt)
- **æ€»è®¡**: Â¥30-60/æœˆ

#### å‡çº§é…ç½®ï¼š
- **äº‘æœåŠ¡å™¨**: Â¥50-100/æœˆ (2æ ¸2G)
- **CDNåŠ é€Ÿ**: Â¥10-30/æœˆ
- **æ€»è®¡**: Â¥65-140/æœˆ

### 9.2 ä¸€æ¬¡æ€§è´¹ç”¨ï¼š
- **åŸŸåæ³¨å†Œ**: Â¥55-200/å¹´
- **å¤‡æ¡ˆ**: å…è´¹ (æ—¶é—´æˆæœ¬)

## åã€å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 10.1 è®¿é—®é—®é¢˜
**é—®é¢˜**: æ— æ³•é€šè¿‡åŸŸåè®¿é—®
**è§£å†³**:
```bash
# æ£€æŸ¥åŸŸåè§£æ
nslookup ä½ çš„åŸŸå.com
# æ£€æŸ¥ Nginx çŠ¶æ€
systemctl status nginx
# æ£€æŸ¥ç«¯å£ç›‘å¬
netstat -tlnp | grep :80
```

### 10.2 æ€§èƒ½é—®é¢˜
**é—®é¢˜**: ç½‘ç«™è®¿é—®æ…¢
**è§£å†³**:
1. å¯ç”¨ Gzip å‹ç¼©
2. é…ç½®æµè§ˆå™¨ç¼“å­˜
3. ä½¿ç”¨ CDN åŠ é€Ÿ

### 10.3 å®‰å…¨é—®é¢˜
**å»ºè®®**:
1. å®šæœŸæ›´æ–°ç³»ç»Ÿ
2. ä½¿ç”¨å¼ºå¯†ç 
3. ç¦ç”¨rootç™»å½•
4. é…ç½®è‡ªåŠ¨å¤‡ä»½

## åä¸€ã€åç»­ä¼˜åŒ–

### 11.1 æ€§èƒ½ä¼˜åŒ–
- æ•°æ®åº“ä¼˜åŒ–
- é™æ€æ–‡ä»¶CDN
- å›¾ç‰‡å‹ç¼©
- ä»£ç å‹ç¼©

### 11.2 åŠŸèƒ½æ‰©å±•
- é‚®ä»¶é€šçŸ¥
- çŸ­ä¿¡æé†’
- ç§»åŠ¨ç«¯é€‚é…
- APIæ¥å£

---

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œä½ çš„é¡¹ç›®ç®¡ç†ç³»ç»Ÿå°±å¯ä»¥é€šè¿‡åŸŸååœ¨äº’è”ç½‘ä¸Šè®¿é—®äº†ï¼

**æµ‹è¯•æ¸…å•**ï¼š
- [ ] åŸŸåå¯ä»¥æ­£å¸¸è®¿é—®
- [ ] HTTPS è¯ä¹¦æ­£å¸¸
- [ ] ç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½
- [ ] é¡¹ç›®ç®¡ç†åŠŸèƒ½
- [ ] æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- [ ] ç”¨æˆ·ç®¡ç†åŠŸèƒ½

å¦‚æœ‰é—®é¢˜ï¼Œå¯ä»¥æ£€æŸ¥ï¼š
1. æœåŠ¡å™¨æ—¥å¿—: `pm2 logs`
2. Nginx æ—¥å¿—: `/var/log/nginx/error.log`
3. ç³»ç»Ÿæ—¥å¿—: `journalctl -f`

**éœ€è¦å¸®åŠ©ï¼Ÿ**
è¯·ä¿å­˜å¥½æœåŠ¡å™¨IPã€åŸŸåã€ç™»å½•å¯†ç ç­‰é‡è¦ä¿¡æ¯ï¼